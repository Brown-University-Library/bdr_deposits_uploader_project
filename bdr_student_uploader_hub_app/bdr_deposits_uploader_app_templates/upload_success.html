{% extends 'base.html' %}
{% load static %}

{% block header_other %}
<link rel="stylesheet" href="{% static 'bdr_deposits_uploader_app/css/config_new.css' %}">
{% endblock %}

{% block main_content %}
<section class="form-section">
    <div>
        <div class="alert alert-success" role="alert">
            {{ message }}
            <div class="mt-3">
                <p>You will be redirected in <span id="countdown">10</span> seconds...</p>
                <p>If you are not redirected automatically, please click <a href="{{ redirect_url }}">here</a>.</p>
            </div>
        </div>
    </div>
</section>

<script>
// auto-redirect after 10 seconds ----------------
let countdown = 10;
const countdownElement = document.getElementById('countdown');

function updateCountdown() {
    countdown--;
    countdownElement.textContent = countdown;
    if (countdown <= 0) {
        window.location.href = "{{ redirect_url }}";
    }
}

// update countdown every second ----------------
setInterval(updateCountdown, 1000);
</script>
{% endblock %}
